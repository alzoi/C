# Вектор  

Вектор это расширяемый контейнер в котором элементы (размера n байт) хранятся непрерывно, а значит доступны не только через итераторы, но и через смещения (v[0], v[4]), добавляемые к указателям на элементы.

## Расширение размера вектора
https://habrahabr.ru/company/infopulse/blog/238131/  
В вектор размером в n байт, который уже полностью заполненный, пытаются добавить ещё один элемент. Это приводит, согласно реализации std::vector, к следующим шагам:
* Выделяется память, размером в 2 * n байт. Скорее всего, она будет выделена в адресном пространстве ЗА текущим вектором (может быть непосредственно за, может быть через какой-то промежуток).
* Старый вектор копируется в начало нового.
* В новый вектор добавляется новый элемент.
* Старый вектор удаляется.

Когда дело дойдёт до увеличения этого нового вектора — он будет увеличен до 4 * n, далее — до 8 * n и т.д. При каждом новом выделении памяти её будет требоваться больше, чем для всех предыдущих векторов, вместе взятых, поскольку на каждом шаге k нам понадобиться (2 ^ k) * n байт памяти, а это всегда больше суммы  
(2 ^ (k — 1)) * n + (2 ^ (k — 2)) * n… + ((2 ^ 0 )) * n
